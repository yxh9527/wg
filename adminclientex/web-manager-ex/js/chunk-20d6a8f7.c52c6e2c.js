(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-20d6a8f7"],{"149c":function(t,e,n){"use strict";n("9430")},"30d9":function(t,e,n){},"3dc2":function(t,e,n){},"5a0c":function(t,e,n){!function(e,n){t.exports=n()}(0,(function(){"use strict";var t=1e3,e=6e4,n=36e5,a="millisecond",i="second",r="minute",s="hour",o="day",c="week",l="month",u="quarter",d="year",h="date",f="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(t){var e=["th","st","nd","rd"],n=t%100;return"["+t+(e[(n-20)%10]||e[n]||e[0])+"]"}},g=function(t,e,n){var a=String(t);return!a||a.length>=e?t:""+Array(e+1-a.length).join(n)+t},v={s:g,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),a=Math.floor(n/60),i=n%60;return(e<=0?"+":"-")+g(a,2,"0")+":"+g(i,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var a=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(a,l),r=n-i<0,s=e.clone().add(a+(r?-1:1),l);return+(-(a+(n-i)/(r?i-s:s-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:l,y:d,w:c,d:o,D:h,h:s,m:r,s:i,ms:a,Q:u}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},b="en",$={};$[b]=y;var w="$isDayjsObject",D=function(t){return t instanceof C||!(!t||!t[w])},S=function t(e,n,a){var i;if(!e)return b;if("string"==typeof e){var r=e.toLowerCase();$[r]&&(i=r),n&&($[r]=n,i=r);var s=e.split("-");if(!i&&s.length>1)return t(s[0])}else{var o=e.name;$[o]=e,i=o}return!a&&i&&(b=i),i||!a&&b},k=function(t,e){if(D(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new C(n)},x=v;x.l=S,x.i=D,x.w=function(t,e){return k(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var C=function(){function y(t){this.$L=S(t.locale,null,!0),this.parse(t),this.$x=this.$x||t.x||{},this[w]=!0}var g=y.prototype;return g.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(x.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var a=e.match(p);if(a){var i=a[2]-1||0,r=(a[7]||"0").substring(0,3);return n?new Date(Date.UTC(a[1],i,a[3]||1,a[4]||0,a[5]||0,a[6]||0,r)):new Date(a[1],i,a[3]||1,a[4]||0,a[5]||0,a[6]||0,r)}}return new Date(e)}(t),this.init()},g.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},g.$utils=function(){return x},g.isValid=function(){return!(this.$d.toString()===f)},g.isSame=function(t,e){var n=k(t);return this.startOf(e)<=n&&n<=this.endOf(e)},g.isAfter=function(t,e){return k(t)<this.startOf(e)},g.isBefore=function(t,e){return this.endOf(e)<k(t)},g.$g=function(t,e,n){return x.u(t)?this[e]:this.set(n,t)},g.unix=function(){return Math.floor(this.valueOf()/1e3)},g.valueOf=function(){return this.$d.getTime()},g.startOf=function(t,e){var n=this,a=!!x.u(e)||e,u=x.p(t),f=function(t,e){var i=x.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return a?i:i.endOf(o)},p=function(t,e){return x.w(n.toDate()[t].apply(n.toDate("s"),(a?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},m=this.$W,y=this.$M,g=this.$D,v="set"+(this.$u?"UTC":"");switch(u){case d:return a?f(1,0):f(31,11);case l:return a?f(1,y):f(0,y+1);case c:var b=this.$locale().weekStart||0,$=(m<b?m+7:m)-b;return f(a?g-$:g+(6-$),y);case o:case h:return p(v+"Hours",0);case s:return p(v+"Minutes",1);case r:return p(v+"Seconds",2);case i:return p(v+"Milliseconds",3);default:return this.clone()}},g.endOf=function(t){return this.startOf(t,!1)},g.$set=function(t,e){var n,c=x.p(t),u="set"+(this.$u?"UTC":""),f=(n={},n[o]=u+"Date",n[h]=u+"Date",n[l]=u+"Month",n[d]=u+"FullYear",n[s]=u+"Hours",n[r]=u+"Minutes",n[i]=u+"Seconds",n[a]=u+"Milliseconds",n)[c],p=c===o?this.$D+(e-this.$W):e;if(c===l||c===d){var m=this.clone().set(h,1);m.$d[f](p),m.init(),this.$d=m.set(h,Math.min(this.$D,m.daysInMonth())).$d}else f&&this.$d[f](p);return this.init(),this},g.set=function(t,e){return this.clone().$set(t,e)},g.get=function(t){return this[x.p(t)]()},g.add=function(a,u){var h,f=this;a=Number(a);var p=x.p(u),m=function(t){var e=k(f);return x.w(e.date(e.date()+Math.round(t*a)),f)};if(p===l)return this.set(l,this.$M+a);if(p===d)return this.set(d,this.$y+a);if(p===o)return m(1);if(p===c)return m(7);var y=(h={},h[r]=e,h[s]=n,h[i]=t,h)[p]||1,g=this.$d.getTime()+a*y;return x.w(g,this)},g.subtract=function(t,e){return this.add(-1*t,e)},g.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||f;var a=t||"YYYY-MM-DDTHH:mm:ssZ",i=x.z(this),r=this.$H,s=this.$m,o=this.$M,c=n.weekdays,l=n.months,u=n.meridiem,d=function(t,n,i,r){return t&&(t[n]||t(e,a))||i[n].slice(0,r)},h=function(t){return x.s(r%12||12,t,"0")},p=u||function(t,e,n){var a=t<12?"AM":"PM";return n?a.toLowerCase():a};return a.replace(m,(function(t,a){return a||function(t){switch(t){case"YY":return String(e.$y).slice(-2);case"YYYY":return x.s(e.$y,4,"0");case"M":return o+1;case"MM":return x.s(o+1,2,"0");case"MMM":return d(n.monthsShort,o,l,3);case"MMMM":return d(l,o);case"D":return e.$D;case"DD":return x.s(e.$D,2,"0");case"d":return String(e.$W);case"dd":return d(n.weekdaysMin,e.$W,c,2);case"ddd":return d(n.weekdaysShort,e.$W,c,3);case"dddd":return c[e.$W];case"H":return String(r);case"HH":return x.s(r,2,"0");case"h":return h(1);case"hh":return h(2);case"a":return p(r,s,!0);case"A":return p(r,s,!1);case"m":return String(s);case"mm":return x.s(s,2,"0");case"s":return String(e.$s);case"ss":return x.s(e.$s,2,"0");case"SSS":return x.s(e.$ms,3,"0");case"Z":return i}return null}(t)||i.replace(":","")}))},g.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},g.diff=function(a,h,f){var p,m=this,y=x.p(h),g=k(a),v=(g.utcOffset()-this.utcOffset())*e,b=this-g,$=function(){return x.m(m,g)};switch(y){case d:p=$()/12;break;case l:p=$();break;case u:p=$()/3;break;case c:p=(b-v)/6048e5;break;case o:p=(b-v)/864e5;break;case s:p=b/n;break;case r:p=b/e;break;case i:p=b/t;break;default:p=b}return f?p:x.a(p)},g.daysInMonth=function(){return this.endOf(l).$D},g.$locale=function(){return $[this.$L]},g.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),a=S(t,e,!0);return a&&(n.$L=a),n},g.clone=function(){return x.w(this.$d,this)},g.toDate=function(){return new Date(this.valueOf())},g.toJSON=function(){return this.isValid()?this.toISOString():null},g.toISOString=function(){return this.$d.toISOString()},g.toString=function(){return this.$d.toUTCString()},y}(),M=C.prototype;return k.prototype=M,[["$ms",a],["$s",i],["$m",r],["$H",s],["$W",o],["$M",l],["$y",d],["$D",h]].forEach((function(t){M[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),k.extend=function(t,e){return t.$i||(t(e,C,k),t.$i=!0),k},k.locale=S,k.isDayjs=D,k.unix=function(t){return k(1e3*t)},k.en=$[b],k.Ls=$,k.p={},k}))},"5e35":function(t,e,n){"use strict";n("c6bc")},9430:function(t,e,n){},bec1:function(t,e,n){"use strict";n("3dc2")},c6bc:function(t,e,n){},e1bd:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t._self._c;return e("div",[e("Card",{staticStyle:{"margin-top":"10px"},attrs:{title:"对局详情"}},[e("tables",{ref:"tables",attrs:{columns:t.columns},model:{value:t.tableData,callback:function(e){t.tableData=e},expression:"tableData"}}),t.spinShow?e("Spin",{attrs:{fix:""}},[e("Icon",{staticClass:"demo-spin-icon-load",attrs:{type:"ios-loading",size:"48"}}),e("div",[t._v("数据加载中")])],1):t._e()],1),e("Modal",{attrs:{width:"65%",title:"游戏详情"},model:{value:t.viewSettlementDetail,callback:function(e){t.viewSettlementDetail=e},expression:"viewSettlementDetail"}},[e("div",[e("iframe",{attrs:{src:this.viewGameDetailUrl,width:"100%",height:"500",frameborder:"0"}})]),e("div",{attrs:{slot:"footer"},slot:"footer"})])],1)},i=[],r=(n("c5f6"),n("7f7f"),function(){var t=this,e=t._self._c;return e("div",[t.searchable&&"top"===t.searchPlace?e("div",{staticClass:"search-con search-con-top"},[e("Select",{staticClass:"search-col",model:{value:t.searchKey,callback:function(e){t.searchKey=e},expression:"searchKey"}},[t._l(t.columns,(function(n){return["handle"!==n.key?e("Option",{key:"search-col-".concat(n.key),attrs:{value:n.key}},[t._v(t._s(n.title))]):t._e()]}))],2),e("Input",{staticClass:"search-input",attrs:{clearable:"",maxlength:50,placeholder:"输入关键字搜索"},on:{"on-change":t.handleClear},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}}),e("Button",{staticClass:"search-btn",attrs:{type:"primary"},on:{click:t.handleSearch}},[e("Icon",{attrs:{type:"search"}}),t._v("  搜索\n    ")],1)],1):t._e(),e("Table",{ref:"tablesMain",attrs:{data:t.insideTableData,columns:t.insideColumns,stripe:t.stripe,border:t.border,"show-header":t.showHeader,width:t.width,height:t.height,loading:t.loading,"disabled-hover":t.disabledHover,"highlight-row":t.highlightRow,"row-class-name":t.rowClassName,size:t.size,"no-data-text":t.noDataText,"no-filtered-data-text":t.noFilteredDataText},on:{"on-current-change":t.onCurrentChange,"on-select":t.onSelect,"on-select-cancel":t.onSelectCancel,"on-select-all":t.onSelectAll,"on-selection-change":t.onSelectionChange,"on-sort-change":t.onSortChange,"on-filter-change":t.onFilterChange,"on-row-click":t.onRowClick,"on-row-dblclick":t.onRowDblclick,"on-expand":t.onExpand}},[t._t("header",null,{slot:"header"}),t._t("footer",null,{slot:"footer"}),t._t("loading",null,{slot:"loading"})],2),t.searchable&&"bottom"===t.searchPlace?e("div",{staticClass:"search-con search-con-top"},[e("Select",{staticClass:"search-col",model:{value:t.searchKey,callback:function(e){t.searchKey=e},expression:"searchKey"}},[t._l(t.columns,(function(n){return["handle"!==n.key?e("Option",{key:"search-col-".concat(n.key),attrs:{value:n.key}},[t._v(t._s(n.title))]):t._e()]}))],2),e("Input",{staticClass:"search-input",attrs:{placeholder:"输入关键字搜索",maxlength:50},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}}),e("Button",{staticClass:"search-btn",attrs:{type:"primary"}},[e("Icon",{attrs:{type:"search"}}),t._v("  搜索\n    ")],1)],1):t._e(),e("a",{staticStyle:{display:"none",width:"0px",height:"0px"},attrs:{id:"hrefToExportTable"}})],1)}),s=[],o=(n("ac6a"),function(){var t=this,e=t._self._c;return e("div",{staticClass:"tables-edit-outer"},[t.isEditting?e("div",{staticClass:"tables-editting-con"},[e("Input",{staticClass:"tables-edit-input",attrs:{value:t.value,maxlength:50},on:{input:t.handleInput}}),e("Button",{staticStyle:{padding:"6px 4px"},attrs:{type:"text"},on:{click:t.saveEdit}},[e("Icon",{attrs:{type:"md-checkmark"}})],1),e("Button",{staticStyle:{padding:"6px 4px"},attrs:{type:"text"},on:{click:t.canceltEdit}},[e("Icon",{attrs:{type:"md-close"}})],1)],1):e("div",{staticClass:"tables-edit-con"},[e("span",{staticClass:"value-con"},[t._v(t._s(t.value))]),t.editable?e("Button",{staticClass:"tables-edit-btn",staticStyle:{padding:"2px 4px"},attrs:{type:"text"},on:{click:t.startEdit}},[e("Icon",{attrs:{type:"md-create"}})],1):t._e()],1)])}),c=[],l={name:"TablesEdit",props:{value:[String,Number],edittingCellId:String,params:Object,editable:Boolean},computed:{isEditting:function(){return this.edittingCellId==="editting-".concat(this.params.index,"-").concat(this.params.column.key)}},methods:{handleInput:function(t){this.$emit("input",t)},startEdit:function(){this.$emit("on-start-edit",this.params)},saveEdit:function(){this.$emit("on-save-edit",this.params)},canceltEdit:function(){this.$emit("on-cancel-edit",this.params)}}},u=l,d=(n("149c"),n("2877")),h=Object(d["a"])(u,o,c,!1,null,null,null),f=h.exports,p={delete:function(t,e,n){return t("Poptip",{props:{confirm:!0,title:"你确定要删除吗?"},on:{"on-ok":function(){n.$emit("on-delete",e),n.$emit("input",e.tableData.filter((function(t,n){return n!==e.row.initRowIndex})))}}},[t("Button",{props:{type:"text",ghost:!0}},[t("Icon",{props:{type:"md-trash",size:18,color:"#000000"}})])])}},m=p,y=(n("30d9"),{name:"Tables",props:{value:{type:Array,default:function(){return[]}},columns:{type:Array,default:function(){return[]}},size:String,width:{type:[Number,String]},height:{type:[Number,String]},stripe:{type:Boolean,default:!1},border:{type:Boolean,default:!1},showHeader:{type:Boolean,default:!0},highlightRow:{type:Boolean,default:!1},rowClassName:{type:Function,default:function(){return""}},context:{type:Object},noDataText:{type:String},noFilteredDataText:{type:String},disabledHover:{type:Boolean},loading:{type:Boolean,default:!1},editable:{type:Boolean,default:!1},searchable:{type:Boolean,default:!1},searchPlace:{type:String,default:"top"}},data:function(){return{insideColumns:[],insideTableData:[],edittingCellId:"",edittingText:"",searchValue:"",searchKey:""}},methods:{suportEdit:function(t,e){var n=this;return t.render=function(t,e){return t(f,{props:{params:e,value:n.insideTableData[e.index][e.column.key],edittingCellId:n.edittingCellId,editable:n.editable},on:{input:function(t){n.edittingText=t},"on-start-edit":function(t){n.edittingCellId="editting-".concat(t.index,"-").concat(t.column.key),n.$emit("on-start-edit",t)},"on-cancel-edit":function(t){n.edittingCellId="",n.$emit("on-cancel-edit",t)},"on-save-edit":function(t){n.value[t.row.initRowIndex][t.column.key]=n.edittingText,n.$emit("input",n.value),n.$emit("on-save-edit",Object.assign(t,{value:n.edittingText})),n.edittingCellId=""}}})},t},surportHandle:function(t){var e=this,n=t.options||[],a=[];n.forEach((function(t){m[t]&&a.push(m[t])}));var i=t.button?[].concat(a,t.button):a;return t.render=function(t,n){return n.tableData=e.value,t("div",i.map((function(a){return a(t,n,e)})))},t},handleColumns:function(t){var e=this;this.insideColumns=t.map((function(t,n){var a=t;return a.editable&&(a=e.suportEdit(a,n)),"handle"===a.key&&(a=e.surportHandle(a)),a.align="center",a}))},setDefaultSearchKey:function(){this.searchKey="handle"!==this.columns[0].key?this.columns[0].key:this.columns.length>1?this.columns[1].key:""},handleClear:function(t){""===t.target.value&&(this.insideTableData=this.value)},handleSearch:function(){var t=this;this.insideTableData=this.value.filter((function(e){return e[t.searchKey].indexOf(t.searchValue)>-1}))},handleTableData:function(){this.insideTableData=this.value.map((function(t,e){var n=t;return n.initRowIndex=e,n}))},exportCsv:function(t){this.$refs.tablesMain.exportCsv(t)},clearCurrentRow:function(){this.$refs.talbesMain.clearCurrentRow()},onCurrentChange:function(t,e){this.$emit("on-current-change",t,e)},onSelect:function(t,e){this.$emit("on-select",t,e)},onSelectCancel:function(t,e){this.$emit("on-select-cancel",t,e)},onSelectAll:function(t){this.$emit("on-select-all",t)},onSelectionChange:function(t){this.$emit("on-selection-change",t)},onSortChange:function(t,e,n){this.$emit("on-sort-change",t,e,n)},onFilterChange:function(t){this.$emit("on-filter-change",t)},onRowClick:function(t,e){this.$emit("on-row-click",t,e)},onRowDblclick:function(t,e){this.$emit("on-row-dblclick",t,e)},onExpand:function(t,e){this.$emit("on-expand",t,e)}},watch:{columns:function(t){this.handleColumns(t),this.setDefaultSearchKey()},value:function(t){this.handleTableData(),this.searchable&&this.handleSearch()}},mounted:function(){this.handleColumns(this.columns),this.setDefaultSearchKey(),this.handleTableData()}}),g=y,v=(n("bec1"),Object(d["a"])(g,r,s,!1,null,null,null)),b=v.exports,$=b,w=n("90de"),D=n("5a0c"),S=n("7e1e"),k={name:"detailManage",components:{Tables:$},data:function(){this.$createElement;var t=this;return{spinShow:!1,startDate:null,endDate:null,gameUrls:[],replays:[],viewSettlementDetail:!1,viewGameDetailUrl:"",startDateRestrict:{disabledDate:function(e){return e.getTime()>1e3*D(t.endDate).unix()||(e.getTime()<Date.now()-15552e6||void 0)}},endDateRestrict:{disabledDate:function(e){return e.getTime()<1e3*D(t.startDate).unix()||(e.getTime()>Date.now()||void 0)}},columns:[{title:"代理",key:"agentId",width:80,render:function(e,n){return t.siteOption&&t.siteOption.map((function(t){if(t.agentList)return t.agentList.map((function(t){if(t.id==n.row.agentId)return e("span",{},t.name)}))}))}},{title:"游戏名称",key:"gameName",minWidth:250,render:function(t,e){return t("span",{},e.row.gameName)}},{title:"局号",key:"roundID",width:180,render:function(t,e){return t("div",[e.row.roundID])}},{title:"用户ID",key:"userId",width:80},{title:"账号",key:"account",minWidth:80},{title:"昵称",key:"nickName",width:150},{title:"Symbol",key:"symbol",width:150},{title:"状态",key:"complete",width:120,render:function(t,e){return e.row.complete?t("span",{style:"color:green"},["完成"]):t("span",{style:"color:red"},["未完成"])}},{title:"详情",align:"center",width:80,render:function(e,n){return e("a",{on:{click:function(){t.imgClick(n.row)}}},"查看")}},{title:"有效下注",key:"bet",width:100},{title:"返奖",key:"win",width:100,render:function(t,e){return e.row.win>0?t("span",{style:"color:green"},[Number(e.row.win).toFixed(2)]):t("span",{style:"color:red"},[Number(e.row.win).toFixed(2)])}},{title:"索引",key:"rowVersion",width:220},{title:"对局时间",key:"playedDate",width:180,render:function(t,e){return t("span",[Object(w["b"])(e.row.playedDate)])}}],tableData:[]}},methods:{imgClick:function(t){this.viewGameDetailUrl=this.replays[0]+"/share/"+t.hash,this.viewSettlementDetail=!0}},mounted:function(){var t=this;Object(S["a"])().then((function(e){e.data.data&&(t.replays=e.data.data.data.replays)}));var e={token:this.$route.params.token,account:this.$route.params.account,roundId:this.$route.params.order};Object(S["c"])(e).then((function(e){var n=e.data,a=n.data;200===n.code?(t.tableData=[],t.tableData=a&&a.data||[],t.tableData.map((function(t){t.detail=JSON.parse(t.detail||"{}")}))):t.$Message.error("接口报错"),t.spinShow=!1}))}},x=k,C=(n("5e35"),Object(d["a"])(x,a,i,!1,null,null,null));e["default"]=C.exports}}]);